Steps to create snapshots
````````````````````````````

# Ensure prerequisite steps. This part is involved with `snapshot_prerequisites.py`.

1. Create an S3 bucket and copy the bucket arn.
2. In `snapshot/settings.py` update S3_BUCKET_NAME and S3_BUCKET_ARN with previously created S3 bucket's name and arn.
3. In `snapshot/settings.py` update `ES_SNAPSHOT_ROLE` and `ES_SNAPSHOT_POLICY`.
4. Run snapshot_prerequisites.py. It will create the role and policy, and attach the policy to the role.

# Create Snapshot of ES cluster. This part is involved with `snapshot_create.py`.

1. Update ES_SNAPSHOT_REPO in `snapshot/settings.py`.
2. Change host in snapshot_create.py.
3. Run snapshot_create.py. It will create a manual snapshot in S3.

# Restore snapshot to a encryption at rest enabled ES domain.

1. Create a KMS key in IAM.
2. Create a ES domain with encryption at rest enabled.
3. Update host in snapshot_restore.py with newly created ES domain's endpoint.
4. Update index name in setting.py.


# This page can be helpful to review: https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/es-managedomains-snapshots.html